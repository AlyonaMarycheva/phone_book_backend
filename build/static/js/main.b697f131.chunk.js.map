{"version":3,"sources":["components/Filter.js","services/Persons.js","components/Numbers.js","components/PersonForm.js","App.js","index.js"],"names":["Filter","props","text","value","onChange","event","setValue","target","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","Numbers","persons","setPersons","filter","regexp","RegExp","person","test","name","map","key","number","onClick","deletedPerson","find","window","confirm","result","personService","deletePerson","PersonForm","newName","newNumber","setNewName","setNewNumber","addPerson","onSubmit","type","App","useState","setFilter","errorMessage","setErrorMesage","useEffect","initialPerson","className","preventDefault","personObject","index","findIndex","returnedPerson","concat","updatedPerson","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.b697f131.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = props => {\r\n    const handleChange = event => props.setValue(event.target.value)\r\n    return (\r\n    <div>\r\n      {props.text}\r\n      <input value = {props.value} \r\n      onChange ={handleChange}/>\r\n    </div>\r\n    )\r\n  }\r\n\r\nexport default Filter","import axios from 'axios'\r\nconst baseUrl = 'http://localhost:3001/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n} \r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (newObject, id) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n} \r\n\r\nconst remove = id => axios.delete(`${baseUrl}/${id}`)\r\n\r\n\r\nexport default {\r\n    getAll, \r\n    create, \r\n    update, \r\n    remove\r\n}\r\n","import React from 'react'\r\nimport personService from '../services/Persons'\r\n\r\nconst Numbers = ({persons, setPersons, filter}) => {\r\n    const regexp = new RegExp(`${filter}`, 'i')\r\n    const deletePerson = id => {\r\n        const deletedPerson = persons.find(person => person.id === id)\r\n        if (window.confirm(`Delete ${deletedPerson.name}?`)){\r\n          const result = persons.filter(person => person !== deletedPerson) \r\n          personService.remove(id)\r\n    \r\n        setPersons(result)\r\n        }\r\n      }\r\n    return (\r\n        <div>\r\n        {\r\n        persons\r\n            .filter(person => regexp.test(person.name))\r\n            .map(\r\n            person => \r\n                <div key = {person.id}>\r\n                {person.name} {person.number}\r\n                <button onClick = {() => deletePerson(person.id)}\r\n                    >delete\r\n                </button>\r\n                </div>\r\n            )\r\n        }\r\n        </div>)\r\n}\r\n\r\n\r\n\r\nexport default Numbers","import React from 'react'\r\nimport Filter from './Filter'\r\n\r\nconst PersonForm = ({newName, newNumber, setNewName, setNewNumber, addPerson}) => {\r\n    return (\r\n      <form onSubmit = {addPerson}>\r\n          <Filter value = {newName} setValue = {setNewName} text = \"name:\"/>\r\n          <Filter value = {newNumber} setValue = {setNewNumber} text = \"number:\"/>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    )\r\n  }\r\nexport default PersonForm","import React, { useState, useEffect } from 'react'\n//import axios from 'axios'\nimport Filter from './components/Filter'\nimport Numbers from './components/Numbers'\nimport PersonForm from './components/PersonForm'\nimport personService from './services/Persons'\nimport './index.css'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName ] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filter, setFilter] = useState('')\n  const [errorMessage, setErrorMesage] = useState('')\n\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPerson => setPersons(initialPerson))\n      }, [])\n\n  const addPerson = event => {\n    event.preventDefault()\n    const personObject = {\n      name: newName,\n      number: newNumber\n    }\n    \n    const index = persons.findIndex(person => person.name === personObject.name)\n\n    if (index === -1) \n      personService\n        .create(personObject)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setErrorMesage(`Added ${returnedPerson.name}`)}\n        )     \n\n    else if(window.confirm(`${personObject.name} is already added to phonebook, replace the old number with a new one?`)) \n      personService\n        .update(personObject, persons[index].id)\n        .then(updatedPerson => {\n          setPersons(persons.map(person => person.name !== personObject.name ? person : updatedPerson ))\n          setErrorMesage(`Number of ${updatedPerson.name} changed`)}\n          )\n\n    setNewName('')\n    setNewNumber('')\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <div className='error'>{errorMessage}</div>\n      <Filter value = {filter} setValue = {setFilter} text = \"filter shown with\"/>\n      \n      <h2>add a new</h2>\n      <PersonForm newName = {newName} newNumber = {newNumber} setNewName = {setNewName} setNewNumber = {setNewNumber} addPerson = {addPerson}/>\n\n      <h2>Numbers</h2>\n      <Numbers persons = {persons} setPersons={setPersons} filter={filter}/>\n    </div>\n  )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n  \n\nReactDOM.render(<App/>, document.getElementById('root')\n);\n\n"],"sourceRoot":""}